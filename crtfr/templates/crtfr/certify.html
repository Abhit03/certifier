{% extends 'crtfr/base.html' %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="mt-4 mb-4 col-lg-12 text-center">
                <h1>{{ run_number }} <span class="badge badge-info">{{ reco|capfirst }}</span></h1>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row mt-2 mb-2">
            <div class="col-md-4">
                <div class="card shadow-sm bg-white">
                    <div class="card-body">

                        <h6 class="card-title text-primary">Type</h6>

                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Run type</strong>
                            </div>
                            <div class="col-md-7">
                                Collisions
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>B field</strong>
                            </div>
                            <div class="col-md-7">
                                3.8 T
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Energy</strong>
                            </div>
                            <div class="col-md-7">
                                13 TeV
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Particle</strong>
                            </div>
                            <div class="col-md-7">
                                Protons
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Era</strong>
                            </div>
                            <div class="col-md-7">
                                2018B
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-md-4">
                <div class="card shadow-sm">
                    <div class="card-body">

                        <h6 class="card-title text-success">Lumi</h6>
                        <div class="row">
                            <div class="col-md-6 text-right">
                                <strong>Lumisections</strong>
                            </div>
                            <div class="col-md-6">
                                <span>543</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 text-right">
                                <strong>Recorded lumi</strong>
                            </div>
                            <div class="col-md-6">
                                <span class="badge badge-danger">0.71 <i>pb<sup>-1</sup></i></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 text-right">
                                <strong>Delivered lumi</strong>
                            </div>
                            <div class="col-md-6">
                                <span class="">5.91 <i>pb<sup>-1</sup></i></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 text-right">
                                <strong>Initial lumi</strong>
                            </div>
                            <div class="col-md-6">
                                <span class="">13.9 &times; <i>10<sup>​27</sup>cm<sup>​−2</sup>​s<sup>​−1</sup></i></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 text-right">
                                <strong>End lumi</strong>
                            </div>
                            <div class="col-md-6">
                                <span class="">4.9 &times; <i>10<sup>​27</sup>cm<sup>​−2</sup>​s<sup>​−1</sup></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h6 class="card-title text-info">Fill</h6>
                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Fill number</strong>
                            </div>
                            <div class="col-md-7">
                                6444
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Bunches</strong>
                            </div>
                            <div class="col-md-7">
                                2544
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Initial lumi</strong>
                            </div>
                            <div class="col-md-7">
                                1.7 &times; <i>10<sup>​27</sup>cm<sup>​−2</sup>​s<sup>​−1</sup></i>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Peak lumi</strong>
                            </div>
                            <div class="col-md-7">
                                1.9 &times; <i>10<sup>​27</sup>cm<sup>​−2</sup>​s<sup>​−1</sup></i>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-5 text-right">
                                <strong>Peak pileup</strong>
                            </div>
                            <div class="col-md-7">
                                54.7
                                ​​
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5 mb-5">
        <div class="text-center" id="id-analyze-spinner">
            <div class="spinner-border" role="status">
                <span class="sr-only">Running analysis...</span> Analyzing...
            </div>
        </div>

        <div class="text-center" id="id-analyse-content" style="display:none;">
            <a id='id-analyse-link' href="/analyse/{{ run_number }}/{{ reco }}/" target="_blank" class="btn btn-info">
                Open Analysis
            </a>
        </div>
    </div>


    <div class="container">
        <form>
            <div class="row mt-5">
                <div class="col text-right"><span style="font-size: 24px;">Pixel</span></div>
                <div class="col text-center bg">
                    <div data-toggle="buttons" class="row">
                        <label class="btn btn-outline-success col ml-2">
                            <input type="radio" name="pixel" value='good' id="id-pixel-good" autocomplete="off" class="sr-only" required> Good
                        </label>
                        <label class="btn btn-outline-danger col ml-1 mr-1">
                            <input type="radio" name="pixel" value='bad' id="id-pixel-bad" autocomplete="off" class="sr-only" required> Bad
                        </label>
                        <label class="btn btn-outline-secondary col mr-2">
                            <input type="radio" name="pixel" value='excluded' id="id-pixel-excluded" autocomplete="off" class="sr-only" required> Excluded
                        </label>
                    </div>
                </div>
                <div class="col text-left col-form-label">
                    <label>
                        <input type="checkbox" name="pixel-lowstat" value="true"> Low statistics
                    </label>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col text-right"><span style="font-size: 24px;">Strip</span></div>
                <div class="col text-center bg">
                    <div data-toggle="buttons" class="row">
                        <label class="btn btn-outline-success col ml-2">
                            <input type="radio" name="strip" value='good' id="id-strip-good" autocomplete="off" class="sr-only" required> Good
                        </label>
                        <label class="btn btn-outline-danger col ml-1 mr-1">
                            <input type="radio" name="strip" value='bad' id="id-strip-bad" autocomplete="off" class="sr-only" required> Bad
                        </label>
                        <label class="btn btn-outline-secondary col mr-2">
                            <input type="radio" name="strip" value='excluded' id="id-strip-excluded" autocomplete="off" class="sr-only" required> Excluded
                        </label>
                    </div>
                </div>
                <div class="col text-left col-form-label">
                    <label>
                        <input type="checkbox" name="strip-lowstat" value="true"> Low statistics
                    </label>
                </div>
            </div>

            <div class="row mt-2">
                <div class="col text-right"><span style="font-size: 24px;">Tracking</span></div>
                <div class="col text-center bg">
                    <div data-toggle="buttons" class="row">
                        <label class="btn btn-outline-success col ml-2">
                            <input type="radio" name="tracking" value='good' id="id-tracking-good" autocomplete="off" class="sr-only" required> Good
                        </label>
                        <label class="btn btn-outline-danger col ml-1 mr-1">
                            <input type="radio" name="tracking" value='bad' id="id-tracking-good" autocomplete="off" class="sr-only" required> Bad
                        </label>
                        <span class="col mr-2"></span>
                    </div>
                </div>
                <div class="col text-left col-form-label">
                    <label>
                        <input type="checkbox" name="tracking-lowstat" value="true"> Low statistics
                    </label>
                </div>
            </div>

            <div class="row mt-3 justify-content-center">
                <div class="col text-right col-form-label">Why bad?</div>
                <div class="col">

                    <div class="input-group">
                        <select class="custom-select" name='bad-reason' id="inputGroupSelect04">
                            <option selected>Choose...</option>
                            <option value="timing_scan">Timing scan</option>
                            <option value="hv_problem">HV Problem</option>
                            <option value="misconfiguration">Misconfiguration</option>
                            <option value="other">Other</option>
                        </select>

                    </div>
                </div>
                <div class="col"></div>
            </div>

            <div class="row mt-5 justify-content-center">
                <input class="btn btn-primary btn-lg" type="submit" value="Submit">
            </div>

        </form>
    </div>

    <script>
        myFunction();
        var myVar;

        function myFunction() {
            myVar = setTimeout(showPage, 1000);
        }

        function showPage() {
            document.getElementById("id-analyze-spinner").style.display = "none";
            document.getElementById("id-analyse-content").style.display = "block";
        }
    </script>
{% endblock content %}
